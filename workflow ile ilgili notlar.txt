## ðŸš€ CHATBOT WORKFLOW SÄ°STEMÄ°

### ðŸ“‹ GENEL BÄ°LGÄ°
**Versiyon:** 2.0
**Platform:** WhatsApp & Instagram
**AmaÃ§:** Ã‡ok amaÃ§lÄ± iÅŸletme chatbot sistemi

### ðŸ”§ GEREKLÄ° AYARLAR

#### Environment Variables:
- `VERIFY_TOKEN`: Meta webhook doÄŸrulama token'Ä±
- `META_APP_SECRET`: Facebook App Secret (imza doÄŸrulama iÃ§in)
- `META_WA_PHONE_ID`: WhatsApp Phone Number ID
- `IG_BUSINESS_ID`: Instagram Business Account ID
- `OPENAI_API_KEY`: OpenAI API anahtarÄ±
- `SUPPORT_TEAM_WEBHOOK`: Destek ekibi bildirim URL'i

#### VeritabanÄ± TablolarÄ±:
```sql
-- MÃ¼ÅŸteri kayÄ±tlarÄ±
CREATE TABLE contacts (
  id SERIAL PRIMARY KEY,
  platform VARCHAR(20),
  user_id VARCHAR(100),
  name VARCHAR(200),
  phone VARCHAR(50),
  created_at TIMESTAMP DEFAULT NOW()
);

-- Mesaj geÃ§miÅŸi
CREATE TABLE messages (
  id SERIAL PRIMARY KEY,
  platform VARCHAR(20),
  user_id VARCHAR(100),
  direction VARCHAR(10),
  text TEXT,
  intent VARCHAR(50),
  created_at TIMESTAMP DEFAULT NOW()
);

-- MÃ¼ÅŸteri hafÄ±zasÄ±
CREATE TABLE customer_memory (
  user_id VARCHAR(100) PRIMARY KEY,
  preferences TEXT,
  last_order TEXT,
  notes TEXT,
  updated_at TIMESTAMP DEFAULT NOW()
);

-- Destek talepleri
CREATE TABLE support_tickets (
  id SERIAL PRIMARY KEY,
  user_id VARCHAR(100),
  issue TEXT,
  priority VARCHAR(20),
  status VARCHAR(20) DEFAULT 'open',
  created_at TIMESTAMP DEFAULT NOW()
);
```

### ðŸ“Š WORKFLOW AKIÅžI
1. **Webhook AlÄ±mÄ±** â†’ GÃ¼venlik KontrolÃ¼
2. **Mesaj Ä°ÅŸleme** â†’ Normalizasyon
3. **AI Analizi** â†’ Intent Tespiti
4. **Aksiyon** â†’ YanÄ±t GÃ¶nderimi
5. **KayÄ±t** â†’ VeritabanÄ± & HafÄ±za
